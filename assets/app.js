angular.module("app",["ngRoute"]),angular.module("app").controller("ApplicationCtrl",["$scope",function(t){t.$on("login",function(o,n){t.currentUser=n})}]),angular.module("app").controller("LoginCtrl",["$scope","UserSvc",function(t,o){t.login=function(n,e){o.login(n,e).then(function(o){t.$emit("login",o.data)})}}]),angular.module("app").controller("PostsCtrl",["$scope","PostsSvc",function(t,o){t.todaysDate=new Date,t.addPost=function(){t.postBody&&o.create({username:t.postUsername,body:t.postBody}).success(function(o){t.posts.unshift(o),t.postBody=null})},t.clearPost=function(){t.postBody=null},o.fetch().success(function(o){t.posts=o})}]),angular.module("app").service("PostsSvc",["$http",function(t){this.fetch=function(){return t.get("/api/posts")},this.create=function(o){return t.post("/api/posts",o)}}]),angular.module("app").config(["$routeProvider",function(t){t.when("/",{controller:"PostsCtrl",templateUrl:"posts.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"register.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"login.html"})}]),angular.module("app").service("UserSvc",["$http",function(t){var o=this;o.getUser=function(){return t.get("/api/users")},o.login=function(n,e){return t.post("/api/sessions",{username:n,password:e}).then(function(n){return o.token=n.data,t.defaults.headers.common["X-Auth"]=n.data,o.getUser()})}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJsb2dpbi5jdHJsLmpzIiwicG9zdHMuY3RybC5qcyIsInBvc3RzLnN2Yy5qcyIsInJvdXRlcy5qcyIsInVzZXIuc3ZjLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJG9uIiwiXyIsInVzZXIiLCJjdXJyZW50VXNlciIsIlVzZXJTdmMiLCJsb2dpbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJ0aGVuIiwicmVzcG9uc2UiLCIkZW1pdCIsImRhdGEiLCJQb3N0c1N2YyIsInRvZGF5c0RhdGUiLCJEYXRlIiwiYWRkUG9zdCIsInBvc3RCb2R5IiwiY3JlYXRlIiwicG9zdFVzZXJuYW1lIiwiYm9keSIsInN1Y2Nlc3MiLCJwb3N0IiwicG9zdHMiLCJ1bnNoaWZ0IiwiY2xlYXJQb3N0IiwiZmV0Y2giLCJzZXJ2aWNlIiwiJGh0dHAiLCJ0aGlzIiwiZ2V0IiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJzdmMiLCJnZXRVc2VyIiwidmFsIiwidG9rZW4iLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJjb21tb24iXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLE9BQ0EsWUNEQUQsUUFBQUMsT0FBQSxPQUNBQyxXQUFBLG1CQUFBLFNBQUEsU0FBQUMsR0FDQUEsRUFBQUMsSUFBQSxRQUFBLFNBQUFDLEVBQUFDLEdBQ0FILEVBQUFJLFlBQUFELE9DSEFOLFFBQUFDLE9BQUEsT0FDQUMsV0FBQSxhQUFBLFNBQUEsVUFBQSxTQUFBQyxFQUFBSyxHQUNBTCxFQUFBTSxNQUFBLFNBQUFDLEVBQUFDLEdBQ0FILEVBQUFDLE1BQUFDLEVBQUFDLEdBQ0FDLEtBQUEsU0FBQUMsR0FDQVYsRUFBQVcsTUFBQSxRQUFBRCxFQUFBRSxZQ0xBZixRQUFBQyxPQUFBLE9BQ0FDLFdBQUEsYUFBQSxTQUFBLFdBQUEsU0FBQUMsRUFBQWEsR0FDQWIsRUFBQWMsV0FBQSxHQUFBQyxNQUNBZixFQUFBZ0IsUUFBQSxXQUNBaEIsRUFBQWlCLFVBRUFKLEVBQUFLLFFBQ0FYLFNBQUFQLEVBQUFtQixhQUNBQyxLQUFBcEIsRUFBQWlCLFdBQ0FJLFFBQUEsU0FBQUMsR0FDQXRCLEVBQUF1QixNQUFBQyxRQUFBRixHQUNBdEIsRUFBQWlCLFNBQUEsUUFJQWpCLEVBQUF5QixVQUFBLFdBQ0F6QixFQUFBaUIsU0FBQSxNQUVBSixFQUNBYSxRQUNBTCxRQUFBLFNBQUFFLEdBQ0F2QixFQUFBdUIsTUFBQUEsT0NyQkExQixRQUFBQyxPQUFBLE9BQ0E2QixRQUFBLFlBQUEsUUFBQSxTQUFBQyxHQUNBQyxLQUFBSCxNQUFBLFdBQ0EsTUFBQUUsR0FBQUUsSUFBQSxlQUVBRCxLQUFBWCxPQUFBLFNBQUFJLEdBQ0EsTUFBQU0sR0FBQU4sS0FBQSxhQUFBQSxPQ05BekIsUUFBQUMsT0FBQSxPQUNBaUMsUUFBQSxpQkFBQSxTQUFBQyxHQUNBQSxFQUNBQyxLQUFBLEtBQUFsQyxXQUFBLFlBQUFtQyxZQUFBLGVBQ0FELEtBQUEsYUFBQWxDLFdBQUEsZUFBQW1DLFlBQUEsa0JBQ0FELEtBQUEsVUFBQWxDLFdBQUEsWUFBQW1DLFlBQUEsa0JDTEFyQyxRQUFBQyxPQUFBLE9BQ0E2QixRQUFBLFdBQUEsUUFBQSxTQUFBQyxHQUNBLEdBQUFPLEdBQUFOLElBQ0FNLEdBQUFDLFFBQUEsV0FDQSxNQUFBUixHQUFBRSxJQUFBLGVBRUFLLEVBQUE3QixNQUFBLFNBQUFDLEVBQUFDLEdBQ0EsTUFBQW9CLEdBQUFOLEtBQUEsaUJBQ0FmLFNBQUFBLEVBQ0FDLFNBQUFBLElBQ0FDLEtBQUEsU0FBQTRCLEdBR0EsTUFGQUYsR0FBQUcsTUFBQUQsRUFBQXpCLEtBQ0FnQixFQUFBVyxTQUFBQyxRQUFBQyxPQUFBLFVBQUFKLEVBQUF6QixLQUNBdUIsRUFBQUMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ2FwcCcsW1xuXHQnbmdSb3V0ZSdcbl0pOyIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuXHQuY29udHJvbGxlcignQXBwbGljYXRpb25DdHJsJywgZnVuY3Rpb24oJHNjb3BlKXtcblx0XHQkc2NvcGUuJG9uKCdsb2dpbicsZnVuY3Rpb24oXyx1c2VyKXtcblx0XHRcdCRzY29wZS5jdXJyZW50VXNlciA9IHVzZXI7XG5cdFx0fSk7XG5cdH0pOyIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuXHQuY29udHJvbGxlcignTG9naW5DdHJsJyxmdW5jdGlvbigkc2NvcGUsVXNlclN2Yyl7XG5cdFx0JHNjb3BlLmxvZ2luID0gZnVuY3Rpb24odXNlcm5hbWUscGFzc3dvcmQpIHtcblx0XHRcdFVzZXJTdmMubG9naW4odXNlcm5hbWUscGFzc3dvcmQpXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcblx0XHRcdFx0XHQkc2NvcGUuJGVtaXQoJ2xvZ2luJyxyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0fSk7XG5cdFx0fVxuXHR9KTsiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcblx0LmNvbnRyb2xsZXIoJ1Bvc3RzQ3RybCcsZnVuY3Rpb24oJHNjb3BlLFBvc3RzU3ZjKXtcblx0XHQkc2NvcGUudG9kYXlzRGF0ZSA9IG5ldyBEYXRlKCk7XG5cdFx0JHNjb3BlLmFkZFBvc3QgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoJHNjb3BlLnBvc3RCb2R5KSB7XG5cblx0XHRcdFx0UG9zdHNTdmMuY3JlYXRlKHtcblx0XHRcdFx0XHR1c2VybmFtZTogJHNjb3BlLnBvc3RVc2VybmFtZSxcblx0XHRcdFx0XHRib2R5OiAkc2NvcGUucG9zdEJvZHkgICAgICAgICAgICAgIFxuXHRcdFx0XHR9KS5zdWNjZXNzKGZ1bmN0aW9uKHBvc3Qpe1xuXHRcdFx0XHRcdCRzY29wZS5wb3N0cy51bnNoaWZ0KHBvc3QpO1xuXHRcdFx0XHRcdCRzY29wZS5wb3N0Qm9keSA9IG51bGw7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0JHNjb3BlLmNsZWFyUG9zdCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdCRzY29wZS5wb3N0Qm9keSA9IG51bGw7XG5cdFx0fTtcblx0XHRQb3N0c1N2Y1xuXHRcdFx0LmZldGNoKClcblx0XHRcdC5zdWNjZXNzKGZ1bmN0aW9uIChwb3N0cykge1xuXHRcdFx0XHQkc2NvcGUucG9zdHMgPSBwb3N0cztcblx0XHRcdH0pO1xuXHR9KTsiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcblx0LnNlcnZpY2UoJ1Bvc3RzU3ZjJyxmdW5jdGlvbigkaHR0cCl7XG5cdFx0dGhpcy5mZXRjaCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Bvc3RzJyk7XG5cdFx0fTtcblx0XHR0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKHBvc3Qpe1xuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvcG9zdHMnLHBvc3QpO1xuXHRcdH07XG5cdH0pOyIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuXHQuY29uZmlnKGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKXtcblx0XHQkcm91dGVQcm92aWRlclxuXHRcdFx0LndoZW4oJy8nLHtjb250cm9sbGVyOiAnUG9zdHNDdHJsJyx0ZW1wbGF0ZVVybDogJ3Bvc3RzLmh0bWwnfSlcblx0XHRcdC53aGVuKCcvcmVnaXN0ZXInLHtjb250cm9sbGVyOidSZWdpc3RlckN0cmwnLHRlbXBsYXRlVXJsOiAncmVnaXN0ZXIuaHRtbCd9KVxuXHRcdFx0LndoZW4oJy9sb2dpbicse2NvbnRyb2xsZXI6J0xvZ2luQ3RybCcsdGVtcGxhdGVVcmw6J2xvZ2luLmh0bWwnfSk7XG5cdH0pOyIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuXHQuc2VydmljZSgnVXNlclN2YycsZnVuY3Rpb24oJGh0dHApe1xuXHRcdHZhciBzdmMgPSB0aGlzO1xuXHRcdHN2Yy5nZXRVc2VyID0gZnVuY3Rpb24oKXtcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMnKTtcblx0XHR9XG5cdFx0c3ZjLmxvZ2luID0gZnVuY3Rpb24odXNlcm5hbWUscGFzc3dvcmQpe1xuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2Vzc2lvbnMnLHtcblx0XHRcdFx0dXNlcm5hbWU6IHVzZXJuYW1lLFxuXHRcdFx0XHRwYXNzd29yZDogcGFzc3dvcmRcblx0XHRcdH0pLnRoZW4oZnVuY3Rpb24odmFsKXtcblx0XHRcdFx0c3ZjLnRva2VuID0gdmFsLmRhdGE7XG5cdFx0XHRcdCRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9IHZhbC5kYXRhO1xuXHRcdFx0XHRyZXR1cm4gc3ZjLmdldFVzZXIoKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9